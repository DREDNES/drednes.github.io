(this["webpackJsonprandom-movie"]=this["webpackJsonprandom-movie"]||[]).push([[0],{17:function(e,t,a){e.exports=a(44)},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(14),i=a.n(l),s=a(1),o=a(2),c=a(4),u=a(3),m=a(5),f="99778a26e9ad6fefbb08a48e1bef2785",d=[{id:28,name:"\u044d\u043a\u0448\u043d"},{id:12,name:"\u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"},{id:16,name:"\u0430\u043d\u0438\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439"},{id:35,name:"\u043a\u043e\u043c\u0435\u0434\u0438\u044f"},{id:80,name:"\u043a\u0440\u0438\u043c\u0438\u043d\u0430\u043b"},{id:99,name:"\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u043b\u044c\u043d\u044b\u0439"},{id:18,name:"\u0434\u0440\u0430\u043c\u0430"},{id:10751,name:"\u0441\u0435\u043c\u0435\u0439\u043d\u044b\u0439"},{id:14,name:"\u0444\u044d\u043d\u0442\u0435\u0437\u0438"},{id:36,name:"\u0438\u0441\u0442\u043e\u0440\u0438\u044f"},{id:27,name:"\u0443\u0436\u0430\u0441\u044b"},{id:10402,name:"\u043c\u0443\u0437\u044b\u043a\u0430\u043b\u044c\u043d\u044b\u0439"},{id:9648,name:"\u043c\u0438\u0441\u0442\u0438\u043a\u0430"},{id:10749,name:"\u0440\u043e\u043c\u0430\u043d\u0441"},{id:878,name:"\u0444\u0430\u043d\u0442\u0430\u0441\u0442\u0438\u043a\u0430"},{id:10770,name:"\u0442\u0435\u043b\u0435\u0444\u0438\u043b\u044c\u043c"},{id:53,name:"\u0442\u0440\u0438\u043b\u043b\u0435\u0440"},{id:10752,name:"\u0432\u043e\u0435\u043d\u043d\u044b\u0439"},{id:37,name:"\u0432\u0435\u0441\u0442\u0435\u0440\u043d"}],p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return fetch("https://api.themoviedb.org/3/discover/movie?api_key=".concat(f,"&").concat(e,"&page=").concat(t,"&language=ru&vote_count.gte=50")).then((function(e){return e.json()}))},v=function(){return fetch("https://api.themoviedb.org/3/trending/movie/week?api_key=".concat(f,"&language=ru")).then((function(e){return e.json()}))},h=a(6),g=(a(22),a(9));function E(){return r.a.createElement("div",{className:"lds-heart"},r.a.createElement("div",null))}function b(e){var t=e.movie,a=e.openMovie,l=Object(n.useState)(!0),i=Object(g.a)(l,2),s=i[0],o=i[1],c="https://image.tmdb.org/t/p/w500/"+t.poster_path||!1;return r.a.createElement("div",{className:"movie"},r.a.createElement("div",{style:{display:s?"block":"none"}},r.a.createElement(E,null)),r.a.createElement("button",{style:{display:s?"none":"flex"},onClick:a},r.a.createElement("div",{className:"hover"},t.title,r.a.createElement("small",null,t.original_title)),r.a.createElement("img",{src:c,alt:t.title,onLoad:function(){o(!1)}})))}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function O(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var w=r.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),j=r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),k=function(e){var t=e.svgRef,a=e.title,n=O(e,["svgRef","title"]);return r.a.createElement("svg",y({width:24,height:24,viewBox:"0 0 24 24",ref:t},n),a?r.a.createElement("title",null,a):null,w,j)},S=r.a.forwardRef((function(e,t){return r.a.createElement(k,y({svgRef:t},e))}));a.p;function N(e){var t=e.movie,a=e.close,l=Object(n.useState)(!0),i=Object(g.a)(l,2),s=i[0],o=i[1],c="https://image.tmdb.org/t/p/w500/"+t.poster_path||!1;return r.a.createElement("div",{className:"filmpage-wrapper"},r.a.createElement("div",{style:{display:s?"block":"none"}},r.a.createElement(E,null)),r.a.createElement("div",{style:{display:s?"none":"flex"},className:"filmpage"},r.a.createElement("div",{className:"poster"},r.a.createElement("img",{src:c,alt:t.title,onLoad:function(){o(!1)}})),r.a.createElement("div",{className:"film-body"},r.a.createElement("div",{className:"title"},t.title," ",r.a.createElement("small",null,t.original_title),r.a.createElement("br",null),r.a.createElement("small",null,t.genre_ids.map((function(e){return d.filter((function(t){return t.id===e})).map((function(e){return e.name+" "}))})))),r.a.createElement("div",{className:"description"},t.overview),r.a.createElement("div",{className:"extra-info"},r.a.createElement("span",null,r.a.createElement("span",{role:"img","aria-label":"release_date"},"\ud83d\udcc5"),"\xa0",t.release_date.split("-").reverse().join(".")),r.a.createElement("span",null,t.vote_average,"\xa0",r.a.createElement("span",{role:"img","aria-label":"vote_average"},"\u2b50")))),r.a.createElement("button",{className:"close-but",onClick:a},r.a.createElement(S,null))))}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function x(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var R=r.a.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),_=r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),F=function(e){var t=e.svgRef,a=e.title,n=x(e,["svgRef","title"]);return r.a.createElement("svg",M({width:24,height:24,viewBox:"0 0 24 24",ref:t},n),a?r.a.createElement("title",null,a):null,R,_)},C=r.a.forwardRef((function(e,t){return r.a.createElement(F,M({svgRef:t},e))}));a.p;function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function z(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var L=r.a.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),H=r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),I=function(e){var t=e.svgRef,a=e.title,n=z(e,["svgRef","title"]);return r.a.createElement("svg",P({width:24,height:24,viewBox:"0 0 24 24",ref:t},n),a?r.a.createElement("title",null,a):null,L,H)},B=r.a.forwardRef((function(e,t){return r.a.createElement(I,P({svgRef:t},e))}));a.p;function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function V(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var D=r.a.createElement("path",{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),U=r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),Y=function(e){var t=e.svgRef,a=e.title,n=V(e,["svgRef","title"]);return r.a.createElement("svg",W({width:24,height:24,viewBox:"0 0 24 24",ref:t},n),a?r.a.createElement("title",null,a):null,D,U)},G=r.a.forwardRef((function(e,t){return r.a.createElement(Y,W({svgRef:t},e))}));a.p;function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function A(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var q=r.a.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),K=r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),Q=function(e){var t=e.svgRef,a=e.title,n=A(e,["svgRef","title"]);return r.a.createElement("svg",J({width:24,height:24,viewBox:"0 0 24 24",ref:t},n),a?r.a.createElement("title",null,a):null,q,K)},T=r.a.forwardRef((function(e,t){return r.a.createElement(Q,J({svgRef:t},e))})),X=(a.p,a(23)),Z=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).setSlidesCount=X((function(){return e.setState({slidesCount:Math.floor(window.innerWidth/170)})}),200),e.state={loaded:!1,movie:null,opened:!0,slidesCount:Math.floor(window.innerWidth/170)},e.movies=[],v().then((function(t){e.movies=t,e.setState({loaded:!0})})),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.setSlidesCount)}},{key:"componentDidUpdate",value:function(){var e=window.innerHeight-document.getElementById("weeks-hot").offsetHeight-38;document.getElementById("main").style.height=e+"px"}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.setSlidesCount)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"weeks-hot",className:"weeksHot-wrapper"},this.state.movie&&r.a.createElement(N,{movie:this.state.movie,close:function(){return e.setState({movie:null})}}),r.a.createElement("div",{className:"week-title"},r.a.createElement("button",{onClick:function(){return e.setState({opened:!e.state.opened})}},r.a.createElement("h2",null,"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0435"),this.state.opened?r.a.createElement(G,null):r.a.createElement(T,null))),this.state.loaded&&this.state.opened&&r.a.createElement(h.c,{naturalSlideWidth:1,naturalSlideHeight:1,totalSlides:this.movies.results.length,visibleSlides:this.state.slidesCount,step:this.state.slidesCount,infinite:!0},r.a.createElement("div",{className:"carousel-buttons"},r.a.createElement(h.a,null,r.a.createElement(B,null)),r.a.createElement(h.b,null,r.a.createElement(C,null))),r.a.createElement(h.e,null,this.movies.results.map((function(t,a){return r.a.createElement(h.d,{key:a,index:a},r.a.createElement(b,{movie:t,openMovie:function(){return e.setState({movie:t})}}))})))))}}]),t}(r.a.Component),$=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={loadedMovie:null,openFilmPage:!1,noMovie:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"getRandomMovie",value:function(){var e=this,t=function(e,t){return Math.round(e-.5+Math.random()*(t-e+1))},a=this.props.filters?function(e){var t=e.rating,a=e.dates,n=e.genres,r=e.certification,l=["primary_release_date.gte=".concat(a.min,"-01-01&primary_release_date.lte=").concat(a.max,"-12-31")];return l.push("vote_average.gte=".concat(t.min,"&vote_average.lte=").concat(t.max)),n.length&&l.push("with_genres="+n.join(",")),r&&l.push("certification_country=US&certification.gte=R"),l.join("&")}(this.props.filters):"";this.setState({loadedMovie:null,noMovie:!1});var n=document.getElementById("flip").classList;n.add("flipping"),p(a).then((function(r){if(!r.total_results)return e.setState({noMovie:!0});var l=t(1,r.total_pages);p(a,l).then((function(a){var r=t(0,a.results.length-1);e.setState({loadedMovie:a.results[r]},(function(){n.remove("flipping")}))}))}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"random-wrapper"},this.state.openFilmPage&&r.a.createElement(N,{movie:this.state.loadedMovie,close:function(){return e.setState({openFilmPage:!1})}}),r.a.createElement("button",{onClick:function(){return e.getRandomMovie()}},r.a.createElement("div",{className:"flip-card"},r.a.createElement("div",{id:"flip",className:"flip-card-inner"},r.a.createElement("div",{className:"flip-card-front"},r.a.createElement("span",{role:"img","aria-label":"cube"},"\ud83c\udfb2")),r.a.createElement("div",{className:"flip-card-back"},r.a.createElement("span",{role:"img","aria-label":"cube"},"\ud83c\udfb2"))))),r.a.createElement("div",{className:"movie-preview"},this.state.loadedMovie&&r.a.createElement(b,{movie:this.state.loadedMovie,openMovie:function(){return e.setState({openFilmPage:!0})}}),this.state.noMovie&&r.a.createElement("div",{className:"error"},"\u0423\u043f\u0441, \u043a\u0430\u0436\u0435\u0442\u0441\u044f \u0443 \u043d\u0430\u0441 \u043d\u0435\u0442 \u0442\u0430\u043a\u0438\u0445 \u0444\u0438\u043b\u044c\u043c\u043e\u0432...\xa0",r.a.createElement("span",{role:"img","aria-label":"sad"},"\ud83e\udd15"),r.a.createElement("br",null),r.a.createElement("small",null,"\u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b"),"\xa0",r.a.createElement("span",{role:"img","aria-label":"hug"},"\ud83e\udd17"))))}}]),t}(r.a.Component),ee=a(15),te=a.n(ee);function ae(){return r.a.createElement("div",{id:"particles-js"},r.a.createElement(te.a,{params:{particles:{number:{value:300,density:{enable:!0,value_area:600}},color:{value:"#fff"},shape:{type:"circle"},opacity:{value:.5,random:!0},size:{value:10,random:!0},line_linked:{enable:!1,distance:500,color:"#ffffff",opacity:.4,width:2},move:{enable:!0,speed:3,direction:"bottom",random:!1,straight:!1,out_mode:"out",bounce:!1}}}}))}var ne=a(16),re=a(11),le=a.n(re),ie=(a(42),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).toogleGenre=function(e,t){if(e)a.setState({genres:[t].concat(Object(ne.a)(a.state.genres))});else{var n=a.state.genres;n=n.splice(n.indexOf(t),1),a.setState({genres:n})}},a.toogleOpen=function(){a.setState({openFilters:!a.state.openFilters,useFilters:!0})},a.year=(new Date).getYear()+1900,a.state={rating:{min:6.5,max:9},dates:{min:2010,max:a.year},genres:[],certification:!1,openFilters:!1,useFilters:!1},a.props.setFilters(null),a.filters=r.a.createRef(),a.filtersWrapper=r.a.createRef(),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e,t){if(t!==this.state&&(this.state.useFilters?this.props.setFilters({rating:this.state.rating,dates:this.state.dates,genres:this.state.genres,certification:this.state.certification}):this.props.setFilters(null)),this.state.openFilters)this.filtersWrapper.current.style.transform="translateY(0)";else{var a=this.filters.current.offsetHeight;this.filtersWrapper.current.style.transform="translateY(".concat(a,"px)"),this.filtersWrapper.current.style.transition="0.3s"}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{ref:this.filtersWrapper,className:"filters-wrapper"},r.a.createElement("div",{className:"open"},r.a.createElement("button",{onClick:this.toogleOpen},this.state.useFilters?this.state.openFilters?"\u0441\u043a\u0440\u044b\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b":"\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b":"\u043f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b"),this.state.useFilters&&r.a.createElement("button",{onClick:function(){return e.setState({useFilters:!1,openFilters:!1})}},"\u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b")),r.a.createElement("div",{ref:this.filters,className:"filters"},r.a.createElement("div",{className:"left"},r.a.createElement("div",{className:"rating"},r.a.createElement(le.a,{maxValue:9,minValue:0,step:.5,value:this.state.rating,onChange:function(t){return e.setState({rating:t})},allowSameValues:!0})),r.a.createElement("div",{className:"dates"},r.a.createElement(le.a,{maxValue:this.year,minValue:1950,value:this.state.dates,onChange:function(t){return e.setState({dates:t})},allowSameValues:!0})),r.a.createElement("label",{className:"certification"},r.a.createElement("input",{className:"cb cb1",type:"checkbox",name:"social",onClick:function(t){return e.setState({certification:t.target.checked})}}),r.a.createElement("i",null),r.a.createElement("span",null,"\u0412\u043e\u0437\u0440\u0430\u0441\u0442\u043d\u043e\u0439 \u0440\u0435\u0439\u0442\u0438\u043d\u0433 18+"))),r.a.createElement("div",{className:"right"},r.a.createElement("div",{className:"genres-wrapper"},r.a.createElement("ul",{className:"genres"},d.map((function(t,a){return r.a.createElement("li",{key:a},r.a.createElement("input",{type:"checkbox",id:t.id,value:t.id,onClick:function(t){e.toogleGenre(t.target.checked,parseInt(t.target.value))}}),r.a.createElement("label",{htmlFor:t.id},t.name))})))))))}}]),t}(n.Component)),se=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={loadedMovie:null,filters:null},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(ae,null),r.a.createElement(Z,{id:"weeksHot"}),r.a.createElement("div",{id:"main",className:"main"},r.a.createElement($,{filters:this.state.filters,openMovie:function(t){return e.setState({openFilmPage:t})}}),r.a.createElement(ie,{setFilters:function(t){return e.setState({filters:t})}})))}}]),t}(r.a.Component);a(43);i.a.render(r.a.createElement(se,null),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.60d18583.chunk.js.map